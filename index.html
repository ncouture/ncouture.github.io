<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Nicolas Couture's Github pages">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ncouture
.github.io | ncouture
.github.io</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" href="index.atom">
<link rel="canonical" href="https://ncouture.github.io/">
<!--[if lt IE 9]>
            <script src="assets/js/html5shiv.min.js"></script>
            <script src="assets/js/respond.min.js"></script>
        <![endif]--><link rel="prefetch" href="posts/google-cloud-command-line-examples/" type="text/html">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar  header-panel shadow-z-3" role="navigation"><div class="container-fluid">
        <div class="row">
          <div class="col-xs-3">
            <h1 class="title-blog">
                <a href="https://ncouture.github.io/">
                        <span id="blog-title">ncouture
.github.io</span>
                    </a>
            </h1>
          </div>
        </div>
      </div>
<!-- /.container-fluid -->
</nav><div class="container-fluid main" id="content" role="main">
        <div class="row">
            <nav class="col-xs-3 menu"><ul>
<li class="withripple"><a href="archive.html">Archive</a></li>
                <li class="withripple"><a href="categories/">Tags</a></li>
                <li class="withripple"><a href="rss.xml">RSS feed</a></li>

                    
                </ul>
<ul class="nav navbar-nav"></ul></nav><div class="posts-material col-xs-9">
                <div class="col-xs-12 col-md-11 content-material">

    <div class="postindex well post-material ">
        <article class="h-entry post-text"><header><h1 class="p-name entry-title header"><a href="posts/google-cloud-command-line-examples/" class="u-url">Google Cloud Command-line Examples</a></h1>
            <div class="metadata">
                <span class="byline author vcard">
                        <i class="mdi-action-face-unlock"></i>
                    Nicolas Couture
                </span>
                <span class="dateline"><a href="posts/google-cloud-command-line-examples/" rel="bookmark">
                    <i class="mdi-device-access-time"></i><time class="published dt-published" datetime="2016-11-05T04:32:39+00:00" title="2016-11-05 04:32">2016-11-05 04:32</time></a></span>
                    <span class="commentline">            <a href="posts/google-cloud-command-line-examples/#disqus_thread" data-disqus-identifier="cache/posts/google-cloud-commands-examples.html">Comments</a>

</span>
            </div>
            <hr></header><div class="e-content entry-content">
        <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-1">Google Cloud Commands</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-1-1"><code>gcloud</code></a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-1-2"><code>gsutil</code></a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-1-3"><code>bq</code></a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-1-4"><code>appcfg.py</code></a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-1-5"><code>dev_appserver.py</code></a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-2">Configuration</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-2-1">Install Google Cloud SDK</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-2-2">Install App Engine Python Standard Environment</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-2-3">List Available Components</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-2-4">Update Components</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-2-5">Install App Engine Components</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-2-6">GCloud Authentication</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-2-7">Configure Default Command Line Project</a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-3">Cloud Storage</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-3-1">Create a Cloud Storage bucket</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-3-2">List files in a Cloud Storage bucket</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-3-3">Synchronize buckets and directories files</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-3-4">Cloud Storage ACL with gsutil</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-3-5">HTTPS Load-balancing with Cloud CDN</a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-4">Compute Engine</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-4-1">Copy files to/from a Compute Engine instance</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-4-2">List Compute Engine Instances</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-4-3">Connect via SSH</a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-5">App Engine</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-5-1">Deploy Application</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-5-2">Run Python App Engine application locally</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-5-3">List App Engine Instances</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-5-4">Read App Engine Logs</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-5-5">Stop App</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-5-6">Spawn a remote Python shell</a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-6">Cloud DNS</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-6-1">List Managed Zones</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-6-2">Describe Existing Zone</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-6-3">Add DNS Record</a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-7">Google Cloud Commands</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-7-1"><code>gcloud</code></a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-7-2"><code>gsutil</code></a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-7-3"><code>bq</code></a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-7-4"><code>appcfg.py</code></a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-7-5"><code>dev_appserver.py</code></a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-8">Configuration</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-8-1">Install Google Cloud SDK</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-8-2">Install App Engine Python Standard Environment</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-8-3">List Available Components</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-8-4">Update Components</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-8-5">Install App Engine Components</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-8-6">GCloud Authentication</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-8-7">Configure Default Command Line Project</a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-9">Cloud Storage</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-9-1">Create a Cloud Storage bucket</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-9-2">List files in a Cloud Storage bucket</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-9-3">Synchronize buckets and directories files</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-9-4">Cloud Storage ACL with gsutil</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-9-5">HTTPS Load-balancing with Cloud CDN</a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-10">Networking</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-10-1">Create a network</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-10-2">Create a firewall rule</a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-11">Compute Engine</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-11-1">Copy files to/from a Compute Engine instance</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-11-2">List Compute Engine Instances</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-11-3">Connect via SSH</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-11-4">Copy files using SCP</a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-12">App Engine</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-12-1">Deploy Application</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-12-2">Update Python App Engine application</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-12-3">Run Python App Engine application locally</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-12-4">List App Engine Instances</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-12-5">Read App Engine Logs</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-12-6">Stop App</a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-13">Cloud DNS</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-13-1">List Managed Zones</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-13-2">Describe Existing Zone</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-13-3">Add DNS Record</a></li>
</ul>
</li>
<li>
<a href="posts/google-cloud-command-line-examples/#sec-14">BigQuery</a>
<ul>
<li><a href="posts/google-cloud-command-line-examples/#sec-14-1">Default Configuration</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-14-2">Interactive Shell</a></li>
<li><a href="posts/google-cloud-command-line-examples/#sec-14-3">List common flags</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Google Cloud Commands</h2>
<div class="outline-text-2" id="text-1">
<p>
All Google Cloud commands are <span class="underline">self-documented</span>, most ship with Bash and Zsh auto-completion profiles.
</p>

<p>
Their official documentation is available online at <a href="https://cloud.google.com/sdk/gcloud/reference/">https://cloud.google.com/sdk/gcloud/reference/</a>.
</p>
</div>
<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><code>gcloud</code></h3>
<div class="outline-text-3" id="text-1-1">
<p>
You can use gcloud to create and manage:
</p>

<ul class="org-ul">
<li>Google Compute Engine virtual machine instances and other resources
</li>
<li>Google Cloud SQL instances
</li>
<li>Google Container Engine clusters
</li>
<li>Google Cloud Dataproc clusters and jobs
</li>
<li>Google Cloud DNS managed zones and record sets
</li>
<li>Google Cloud Deployment manager deployments
</li>
<li>Deploy App Engine applications
</li>
<li>Perform other tasks against Alpha and Beta Cloud Platform services
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><code>gsutil</code></h3>
<div class="outline-text-3" id="text-1-2">
<p>
You can use gsutil to:
</p>

<ul class="org-ul">
<li>Create and manage Cloud Storage buckets
</li>
<li>Upload objects to buckets, and download and delete them
</li>
<li>Move, copy and rename objects
</li>
<li>Manage access to stored data
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><code>bq</code></h3>
<div class="outline-text-3" id="text-1-3">
<p>
You can use bq to manage datasets, tables and other entities in BigQuery, as well as run
queries on your data.
</p>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><code>appcfg.py</code></h3>
<div class="outline-text-3" id="text-1-4">
<p>
Manage App Engine instances.
</p>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><code>dev_appserver.py</code></h3>
<div class="outline-text-3" id="text-1-5">
<p>
Local App Engine development server.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Configuration</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Install Google Cloud SDK</h3>
<div class="outline-text-3" id="text-2-1">
<div class="highlight"><pre><span></span>curl https://sdk.cloud.google.com | bash
</pre></div>

<p>
<b>Warning</b>: You can verify the SSL certificate using <i>curl –cacert &lt;certificate&gt;</i> and this root CA:
</p>
<div class="highlight"><pre><span></span># Operating CA: Symantec (GeoTrust)
# Issuer: CN=GeoTrust Global CA O=GeoTrust Inc.
# Subject: CN=GeoTrust Global CA O=GeoTrust Inc.
# Label: "GeoTrust Global CA"
# Serial: 144470
# MD5 Fingerprint: f7:75:ab:29:fb:51:4e:b7:77:5e:ff:05:3c:99:8e:f5
# SHA1 Fingerprint: de:28:f4:a4:ff:e5:b9:2f:a3:c5:03:d1:a3:49:a7:f9:96:2a:82:12
# SHA256 Fingerprint: ff:85:6a:2d:25:1d:cd:88:d3:66:56:f4:50:12:67:98:cf:ab:aa:de:40:79:9c:72:2d:e4:d2:b5:db:36:a7:3a
-----BEGIN CERTIFICATE-----
MIIDVDCCAjygAwIBAgIDAjRWMA0GCSqGSIb3DQEBBQUAMEIxCzAJBgNVBAYTAlVT
MRYwFAYDVQQKEw1HZW9UcnVzdCBJbmMuMRswGQYDVQQDExJHZW9UcnVzdCBHbG9i
YWwgQ0EwHhcNMDIwNTIxMDQwMDAwWhcNMjIwNTIxMDQwMDAwWjBCMQswCQYDVQQG
EwJVUzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEbMBkGA1UEAxMSR2VvVHJ1c3Qg
R2xvYmFsIENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2swYYzD9
9BcjGlZ+W988bDjkcbd4kdS8odhM+KhDtgPpTSEHCIjaWC9mOSm9BXiLnTjoBbdq
fnGk5sRgprDvgOSJKA+eJdbtg/OtppHHmMlCGDUUna2YRpIuT8rxh0PBFpVXLVDv
iS2Aelet8u5fa9IAjbkU+BQVNdnARqN7csiRv8lVK83Qlz6cJmTM386DGXHKTubU
1XupGc1V3sjs0l44U+VcT4wt/lAjNvxm5suOpDkZALeVAjmRCw7+OC7RHQWa9k0+
bw8HHa8sHo9gOeL6NlMTOdReJivbPagUvTLrGAMoUgRx5aszPeE4uwc2hGKceeoW
MPRfwCvocWvk+QIDAQABo1MwUTAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBTA
ephojYn7qwVkDBF9qn1luMrMTjAfBgNVHSMEGDAWgBTAephojYn7qwVkDBF9qn1l
uMrMTjANBgkqhkiG9w0BAQUFAAOCAQEANeMpauUvXVSOKVCUn5kaFOSPeCpilKIn
Z57QzxpeR+nBsqTP3UEaBU6bS+5Kb1VSsyShNwrrZHYqLizz/Tt1kL/6cdjHPTfS
tQWVYrmm3ok9Nns4d0iXrKYgjy6myQzCsplFAMfOEVEiIuCl6rYVSAlk6l5PdPcF
PseKUgzbFbS9bZvlxrFUaKnjaZC2mqUPuLk/IH2uSrW4nOQdtqvmlKXBx4Ot2/Un
hw4EbNX/3aBd7YdStysVAq45pmp06drE57xNNB6pXE0zX5IJL4hmXXeXxx12E6nV
5fEWCRE11azbJHFwLJhWC9kXtNHjUStedejV0NxPNO3CBWaAocvmMw==
-----END CERTIFICATE-----
</pre></div>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">Install App Engine Python Standard Environment</h3>
<div class="outline-text-3" id="text-2-2">
<div class="highlight"><pre><span></span>gcloud components install app-engine-python
</pre></div>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">List Available Components</h3>
<div class="outline-text-3" id="text-2-3">
<div class="highlight"><pre><span></span>gcloud components list

Your current Cloud SDK version is: 123.0.0
The latest available version is: 123.0.0

┌──────────────────────────────────────────────────────────────────────────────────────────┐
│                                        Components                                        │
├───────────────┬───────────────────────────────────┬──────────────────────────┬───────────┤
│     Status    │                Name               │            ID            │    Size   │
├───────────────┼───────────────────────────────────┼──────────────────────────┼───────────┤
│ Not Installed │ App Engine Go Extensions          │ app-engine-go            │  46.3 MiB │
│ Not Installed │ Cloud Datastore Emulator          │ cloud-datastore-emulator │  16.1 MiB │
│ Not Installed │ Cloud Datastore Emulator (Legacy) │ gcd-emulator             │  38.1 MiB │
│ Not Installed │ Cloud Pub/Sub Emulator            │ pubsub-emulator          │  16.3 MiB │
│ Not Installed │ gcloud Alpha Commands             │ alpha                    │   &lt; 1 MiB │
│ Not Installed │ gcloud Beta Commands              │ beta                     │   &lt; 1 MiB │
│ Not Installed │ gcloud app Java Extensions        │ app-engine-java          │ 135.6 MiB │
│ Not Installed │ gcloud app Python Extensions      │ app-engine-python        │   7.2 MiB │
│ Not Installed │ kubectl                           │ kubectl                  │  11.4 MiB │
│ Installed     │ BigQuery Command Line Tool        │ bq                       │   &lt; 1 MiB │
│ Installed     │ Cloud SDK Core Libraries          │ core                     │   4.1 MiB │
│ Installed     │ Cloud Storage Command Line Tool   │ gsutil                   │   2.8 MiB │
│ Installed     │ Default set of gcloud commands    │ gcloud                   │           │
└───────────────┴───────────────────────────────────┴──────────────────────────┴───────────┘
To install or remove components at your current SDK version [123.0.0], run:
  gcloud components install COMPONENT_ID
  gcloud components remove COMPONENT_ID

To update your SDK installation to the latest version [123.0.0], run:
  gcloud components update
</pre></div>
</div>
</div>
<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">Update Components</h3>
<div class="outline-text-3" id="text-2-4">
<div class="highlight"><pre><span></span>gcloud components update
</pre></div>
</div>
</div>
<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5">Install App Engine Components</h3>
<div class="outline-text-3" id="text-2-5">
<div class="highlight"><pre><span></span>gcloud components install app-engine-python gcd-emulator pubsub-emulator cloud-datastore-emulator


Your current Cloud SDK version is: 123.0.0
Installing components from version: 123.0.0

┌──────────────────────────────────────────────────────────────┐
│             These components will be installed.              │
├───────────────────────────────────┬───────────────┬──────────┤
│                Name               │    Version    │   Size   │
├───────────────────────────────────┼───────────────┼──────────┤
│ Cloud Datastore Emulator          │         1.1.1 │ 16.1 MiB │
│ Cloud Datastore Emulator (Legacy) │ v1beta3-1.0.0 │ 38.1 MiB │
│ Cloud Pub/Sub Emulator            │    2016.08.19 │ 16.3 MiB │
│ gcloud app Python Extensions      │        1.9.40 │  7.2 MiB │
└───────────────────────────────────┴───────────────┴──────────┘

[...]
</pre></div>
</div>
</div>
<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6">GCloud Authentication</h3>
<div class="outline-text-3" id="text-2-6">
<p>
Project-level authentication:
</p>
<div class="highlight"><pre><span></span>gcloud auth login --project=&lt;project ID&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-2-7" class="outline-3">
<h3 id="sec-2-7">Configure Default Command Line Project</h3>
<div class="outline-text-3" id="text-2-7">
<div class="highlight"><pre><span></span>gcloud config set project &lt;project ID&gt;
</pre></div>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Cloud Storage</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">Create a Cloud Storage bucket</h3>
<div class="outline-text-3" id="text-3-1">
<div class="highlight"><pre><span></span>gsutil mb gs://&lt;bucket name&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">List files in a Cloud Storage bucket</h3>
<div class="outline-text-3" id="text-3-2">
<div class="highlight"><pre><span></span>gsutil ls gs://&lt;bucket&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">Synchronize buckets and directories files</h3>
<div class="outline-text-3" id="text-3-3">
<div class="highlight"><pre><span></span>gsutil -m rsync --help
</pre></div>
</div>
</div>
<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4">Cloud Storage ACL with gsutil</h3>
<div class="outline-text-3" id="text-3-4">
<p>
Make bucket files world-readable:
</p>
<div class="highlight"><pre><span></span>gsutil acl ch -u AllUsers:R gs://&lt;bucket&gt;/&lt;object&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5">HTTPS Load-balancing with Cloud CDN</h3>
<div class="outline-text-3" id="text-3-5">
<ul class="org-ul">
<li>
<a href="https://cloud.google.com/compute/docs/load-balancing/http/using-http-lb-with-cloud-storage">https://cloud.google.com/compute/docs/load-balancing/http/using-http-lb-with-cloud-storage</a>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Compute Engine</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">Copy files to/from a Compute Engine instance</h3>
<div class="outline-text-3" id="text-4-1">
<div class="highlight"><pre><span></span>gcloud compute copy-files [LOCAL_FILE_PATH] [INSTANCE_NAME]:~/
</pre></div>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">List Compute Engine Instances</h3>
<div class="outline-text-3" id="text-4-2">
<div class="highlight"><pre><span></span>gcloud compute instances list
</pre></div>
</div>
</div>
<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3">Connect via SSH</h3>
<div class="outline-text-3" id="text-4-3">
<div class="highlight"><pre><span></span>gcloud compute ssh &lt;instance name&gt;
</pre></div>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">App Engine</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1">Deploy Application</h3>
<div class="outline-text-3" id="text-5-1">
<div class="highlight"><pre><span></span>appcfg.py update -A &lt;project ID&gt; -V &lt;version&gt; &lt;src&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2">Run Python App Engine application locally</h3>
<div class="outline-text-3" id="text-5-2">
<div class="highlight"><pre><span></span>dev_appserver.py &lt;src&gt;
</pre></div>

<p>
with application debug log level:
</p>
<div class="highlight"><pre><span></span>dev_appserver.py --log_level debug &lt;src&gt;
</pre></div>

<p>
with application server debug logging:
</p>
<div class="highlight"><pre><span></span>dev_appserver.py --dev_appserver_log_level debug &lt;src&gt;
</pre></div>


<p>
with both:
</p>
<div class="highlight"><pre><span></span>dev_appserver.py --log_level debug --dev_appserver_log_level debug &lt;src&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3">List App Engine Instances</h3>
<div class="outline-text-3" id="text-5-3">
<div class="highlight"><pre><span></span>gcloud app instances list
</pre></div>
</div>
</div>
<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4">Read App Engine Logs</h3>
<div class="outline-text-3" id="text-5-4">
<div class="highlight"><pre><span></span>gcloud app logs read
</pre></div>
</div>
</div>
<div id="outline-container-sec-5-5" class="outline-3">
<h3 id="sec-5-5">Stop App</h3>
<div class="outline-text-3" id="text-5-5">
<div class="highlight"><pre><span></span>gcloud compute instances stop &lt;instance-name&gt; &lt;instance-name&gt; ...
</pre></div>
</div>
</div>
<div id="outline-container-sec-5-6" class="outline-3">
<h3 id="sec-5-6">Spawn a remote Python shell</h3>
<div class="outline-text-3" id="text-5-6">
<p>
In order to have access to the remote<sub>api</sub>, it must first be deployed with the option enabled<sup><a id="fnr.1" name="fnr.1" class="footref" href="posts/google-cloud-command-line-examples/#fn.1">1</a></sup>:
</p>
<div class="highlight"><pre><span></span>builtins:
  - remote_api: on
</pre></div>

<div class="highlight"><pre><span></span>remote_api_shell.py -s &lt;project-id&gt;.appspot.com
</pre></div>

<p>
ref: <a href="https://cloud.google.com/appengine/docs/python/tools/remoteapi?ncouture=1"></a><a href="https://cloud.google.com/appengine/docs/python/tools/remoteapi">https://cloud.google.com/appengine/docs/python/tools/remoteapi</a>
</p>
</div>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">Cloud DNS</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1">List Managed Zones</h3>
<div class="outline-text-3" id="text-6-1">
<div class="highlight"><pre><span></span>gcloud dns managed-zones list
</pre></div>

<p>
output:
</p>
<div class="highlight"><pre><span></span>NAME              DNS_NAME           DESCRIPTION
example-zone      example.com.
</pre></div>
</div>
</div>

<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2">Describe Existing Zone</h3>
<div class="outline-text-3" id="text-6-2">
<div class="highlight"><pre><span></span>gcloud dns managed-zones describe &lt;zone-name&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-6-3" class="outline-3">
<h3 id="sec-6-3">Add DNS Record</h3>
<div class="outline-text-3" id="text-6-3">
<p>
Here is an example of creating a CNAME record named <span class="underline">my-cname.example.com</span> that points to <span class="underline">cname.value.example.org</span>
</p>
<div class="highlight"><pre><span></span>$ gcloud dns record-sets transaction start -z &lt;zone-name&gt;
Transaction started [transaction.yaml]
$ gcloud dns record-sets transaction add -z &lt;zone-name&gt; --ttl &lt;seconds&gt; --type CNAME --name my-cname.example.com cname.value.example.org.
Record addition appended to transaction at [transaction.yaml]
$ gcloud dns record-sets transaction describe -z &lt;zone-name&gt;
additions:
- kind: dns#resourceRecordSet
  name: example.com
  rrdatas:
  - ns-cloud-e1.googledomains.com. cloud-dns-hostmaster.google.com. 3 21600 3600 259200
    &lt;ttl seconds&gt;
  ttl: 21600
  type: SOA
- kind: dns#resourceRecordSet
  name: mycname.example.com
  rrdatas:
  - cname.value.example.org.
  ttl: &lt;ttl seconds&gt;
  type: CNAME
deletions:
- kind: dns#resourceRecordSet
  name: example.com
  rrdatas:
  - ns-cloud-e1.googledomains.com. cloud-dns-hostmaster.google.com. 2 21600 3600 259200
    &lt;ttl seconds&gt;
  ttl: 21600
  type: SOA

$ gcloud dns record-sets transaction execute -z &lt;zone-name&gt;
Executed transaction [transaction.yaml] for managed-zone [&lt;zone-name&gt;].
Created [https://www.googleapis.com/dns/v1/projects/&lt;project id&gt;/managedZones/&lt;zone-name&gt;/changes/1].
ID  START_TIME                STATUS
1   2016-06-16T13:10:50.051Z  pending
</pre></div>

<p>
Plain commands list:
</p>
<div class="highlight"><pre><span></span>gcloud dns record-sets transaction start -z &lt;zone-name&gt;
gcloud dns record-sets transaction add -z &lt;zone-name&gt; --name my-cname.example.com --ttl 300 --type CNAME cname.value.example.org.
gcloud dns record-sets transaction describe -z &lt;zone-name&gt;
gcloud dns record-sets transaction execute -z &lt;zone-name&gt;
</pre></div>
</div>
</div>
</div>
<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">Google Cloud Commands</h2>
<div class="outline-text-2" id="text-7">
<p>
All Google Cloud commands are <span class="underline">self-documented</span>, most ship with Bash and Zsh auto-completion profiles.
</p>

<p>
Their official documentation is available online at <a href="https://cloud.google.com/sdk/gcloud/reference/">https://cloud.google.com/sdk/gcloud/reference/</a>.
</p>
</div>
<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1"><code>gcloud</code></h3>
<div class="outline-text-3" id="text-7-1">
<p>
You can use gcloud to create and manage:
</p>

<ul class="org-ul">
<li>Google Compute Engine virtual machine instances and other resources
</li>
<li>Google Cloud SQL instances
</li>
<li>Google Container Engine clusters
</li>
<li>Google Cloud Dataproc clusters and jobs
</li>
<li>Google Cloud DNS managed zones and record sets
</li>
<li>Google Cloud Deployment manager deployments
</li>
<li>Deploy App Engine applications
</li>
<li>Perform other tasks against Alpha and Beta Cloud Platform services
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2"><code>gsutil</code></h3>
<div class="outline-text-3" id="text-7-2">
<p>
You can use gsutil to:
</p>

<ul class="org-ul">
<li>Create and manage Cloud Storage buckets
</li>
<li>Upload objects to buckets, and download and delete them
</li>
<li>Move, copy and rename objects
</li>
<li>Manage access to stored data
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-7-3" class="outline-3">
<h3 id="sec-7-3"><code>bq</code></h3>
<div class="outline-text-3" id="text-7-3">
<p>
You can use bq to manage datasets, tables and other entities in BigQuery, as well as run
queries on your data.
</p>
</div>
</div>
<div id="outline-container-sec-7-4" class="outline-3">
<h3 id="sec-7-4"><code>appcfg.py</code></h3>
<div class="outline-text-3" id="text-7-4">
<p>
Manage App Engine instances.
</p>
</div>
</div>
<div id="outline-container-sec-7-5" class="outline-3">
<h3 id="sec-7-5"><code>dev_appserver.py</code></h3>
<div class="outline-text-3" id="text-7-5">
<p>
Local App Engine development server.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">Configuration</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1">Install Google Cloud SDK</h3>
<div class="outline-text-3" id="text-8-1">
<div class="highlight"><pre><span></span>curl https://sdk.cloud.google.com | bash
</pre></div>

<p>
<b>Warning</b>: You can verify the SSL certificate using <i>curl –cacert &lt;certificate&gt;</i> and this root CA:
</p>
<div class="highlight"><pre><span></span># Operating CA: Symantec (GeoTrust)
# Issuer: CN=GeoTrust Global CA O=GeoTrust Inc.
# Subject: CN=GeoTrust Global CA O=GeoTrust Inc.
# Label: "GeoTrust Global CA"
# Serial: 144470
# MD5 Fingerprint: f7:75:ab:29:fb:51:4e:b7:77:5e:ff:05:3c:99:8e:f5
# SHA1 Fingerprint: de:28:f4:a4:ff:e5:b9:2f:a3:c5:03:d1:a3:49:a7:f9:96:2a:82:12
# SHA256 Fingerprint: ff:85:6a:2d:25:1d:cd:88:d3:66:56:f4:50:12:67:98:cf:ab:aa:de:40:79:9c:72:2d:e4:d2:b5:db:36:a7:3a
-----BEGIN CERTIFICATE-----
MIIDVDCCAjygAwIBAgIDAjRWMA0GCSqGSIb3DQEBBQUAMEIxCzAJBgNVBAYTAlVT
MRYwFAYDVQQKEw1HZW9UcnVzdCBJbmMuMRswGQYDVQQDExJHZW9UcnVzdCBHbG9i
YWwgQ0EwHhcNMDIwNTIxMDQwMDAwWhcNMjIwNTIxMDQwMDAwWjBCMQswCQYDVQQG
EwJVUzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEbMBkGA1UEAxMSR2VvVHJ1c3Qg
R2xvYmFsIENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2swYYzD9
9BcjGlZ+W988bDjkcbd4kdS8odhM+KhDtgPpTSEHCIjaWC9mOSm9BXiLnTjoBbdq
fnGk5sRgprDvgOSJKA+eJdbtg/OtppHHmMlCGDUUna2YRpIuT8rxh0PBFpVXLVDv
iS2Aelet8u5fa9IAjbkU+BQVNdnARqN7csiRv8lVK83Qlz6cJmTM386DGXHKTubU
1XupGc1V3sjs0l44U+VcT4wt/lAjNvxm5suOpDkZALeVAjmRCw7+OC7RHQWa9k0+
bw8HHa8sHo9gOeL6NlMTOdReJivbPagUvTLrGAMoUgRx5aszPeE4uwc2hGKceeoW
MPRfwCvocWvk+QIDAQABo1MwUTAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBTA
ephojYn7qwVkDBF9qn1luMrMTjAfBgNVHSMEGDAWgBTAephojYn7qwVkDBF9qn1l
uMrMTjANBgkqhkiG9w0BAQUFAAOCAQEANeMpauUvXVSOKVCUn5kaFOSPeCpilKIn
Z57QzxpeR+nBsqTP3UEaBU6bS+5Kb1VSsyShNwrrZHYqLizz/Tt1kL/6cdjHPTfS
tQWVYrmm3ok9Nns4d0iXrKYgjy6myQzCsplFAMfOEVEiIuCl6rYVSAlk6l5PdPcF
PseKUgzbFbS9bZvlxrFUaKnjaZC2mqUPuLk/IH2uSrW4nOQdtqvmlKXBx4Ot2/Un
hw4EbNX/3aBd7YdStysVAq45pmp06drE57xNNB6pXE0zX5IJL4hmXXeXxx12E6nV
5fEWCRE11azbJHFwLJhWC9kXtNHjUStedejV0NxPNO3CBWaAocvmMw==
-----END CERTIFICATE-----
</pre></div>
</div>
</div>

<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2">Install App Engine Python Standard Environment</h3>
<div class="outline-text-3" id="text-8-2">
<div class="highlight"><pre><span></span>gcloud components install app-engine-python
</pre></div>
</div>
</div>

<div id="outline-container-sec-8-3" class="outline-3">
<h3 id="sec-8-3">List Available Components</h3>
<div class="outline-text-3" id="text-8-3">
<div class="highlight"><pre><span></span>gcloud components list

Your current Cloud SDK version is: 123.0.0
The latest available version is: 123.0.0

┌──────────────────────────────────────────────────────────────────────────────────────────┐
│                                        Components                                        │
├───────────────┬───────────────────────────────────┬──────────────────────────┬───────────┤
│     Status    │                Name               │            ID            │    Size   │
├───────────────┼───────────────────────────────────┼──────────────────────────┼───────────┤
│ Not Installed │ App Engine Go Extensions          │ app-engine-go            │  46.3 MiB │
│ Not Installed │ Cloud Datastore Emulator          │ cloud-datastore-emulator │  16.1 MiB │
│ Not Installed │ Cloud Datastore Emulator (Legacy) │ gcd-emulator             │  38.1 MiB │
│ Not Installed │ Cloud Pub/Sub Emulator            │ pubsub-emulator          │  16.3 MiB │
│ Not Installed │ gcloud Alpha Commands             │ alpha                    │   &lt; 1 MiB │
│ Not Installed │ gcloud Beta Commands              │ beta                     │   &lt; 1 MiB │
│ Not Installed │ gcloud app Java Extensions        │ app-engine-java          │ 135.6 MiB │
│ Not Installed │ gcloud app Python Extensions      │ app-engine-python        │   7.2 MiB │
│ Not Installed │ kubectl                           │ kubectl                  │  11.4 MiB │
│ Installed     │ BigQuery Command Line Tool        │ bq                       │   &lt; 1 MiB │
│ Installed     │ Cloud SDK Core Libraries          │ core                     │   4.1 MiB │
│ Installed     │ Cloud Storage Command Line Tool   │ gsutil                   │   2.8 MiB │
│ Installed     │ Default set of gcloud commands    │ gcloud                   │           │
└───────────────┴───────────────────────────────────┴──────────────────────────┴───────────┘
To install or remove components at your current SDK version [123.0.0], run:
  gcloud components install COMPONENT_ID
  gcloud components remove COMPONENT_ID

To update your SDK installation to the latest version [123.0.0], run:
  gcloud components update
</pre></div>
</div>
</div>
<div id="outline-container-sec-8-4" class="outline-3">
<h3 id="sec-8-4">Update Components</h3>
<div class="outline-text-3" id="text-8-4">
<div class="highlight"><pre><span></span>gcloud components update
</pre></div>
</div>
</div>
<div id="outline-container-sec-8-5" class="outline-3">
<h3 id="sec-8-5">Install App Engine Components</h3>
<div class="outline-text-3" id="text-8-5">
<div class="highlight"><pre><span></span>gcloud components install app-engine-python gcd-emulator pubsub-emulator cloud-datastore-emulator


Your current Cloud SDK version is: 123.0.0
Installing components from version: 123.0.0

┌──────────────────────────────────────────────────────────────┐
│             These components will be installed.              │
├───────────────────────────────────┬───────────────┬──────────┤
│                Name               │    Version    │   Size   │
├───────────────────────────────────┼───────────────┼──────────┤
│ Cloud Datastore Emulator          │         1.1.1 │ 16.1 MiB │
│ Cloud Datastore Emulator (Legacy) │ v1beta3-1.0.0 │ 38.1 MiB │
│ Cloud Pub/Sub Emulator            │    2016.08.19 │ 16.3 MiB │
│ gcloud app Python Extensions      │        1.9.40 │  7.2 MiB │
└───────────────────────────────────┴───────────────┴──────────┘

[...]
</pre></div>
</div>
</div>
<div id="outline-container-sec-8-6" class="outline-3">
<h3 id="sec-8-6">GCloud Authentication</h3>
<div class="outline-text-3" id="text-8-6">
<p>
Project-level authentication:
</p>
<div class="highlight"><pre><span></span>gcloud auth login --project=&lt;project ID&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-8-7" class="outline-3">
<h3 id="sec-8-7">Configure Default Command Line Project</h3>
<div class="outline-text-3" id="text-8-7">
<div class="highlight"><pre><span></span>gcloud config set project &lt;project ID&gt;
</pre></div>
</div>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">Cloud Storage</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-sec-9-1" class="outline-3">
<h3 id="sec-9-1">Create a Cloud Storage bucket</h3>
<div class="outline-text-3" id="text-9-1">
<div class="highlight"><pre><span></span>gsutil mb gs://&lt;bucket name&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-9-2" class="outline-3">
<h3 id="sec-9-2">List files in a Cloud Storage bucket</h3>
<div class="outline-text-3" id="text-9-2">
<div class="highlight"><pre><span></span>gsutil ls gs://&lt;bucket&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-9-3" class="outline-3">
<h3 id="sec-9-3">Synchronize buckets and directories files</h3>
<div class="outline-text-3" id="text-9-3">
<div class="highlight"><pre><span></span>gsutil -m rsync --help
</pre></div>
</div>
</div>
<div id="outline-container-sec-9-4" class="outline-3">
<h3 id="sec-9-4">Cloud Storage ACL with gsutil</h3>
<div class="outline-text-3" id="text-9-4">
<p>
Make bucket files world-readable:
</p>
<div class="highlight"><pre><span></span>gsutil acl ch -u AllUsers:R gs://&lt;bucket&gt;/&lt;object&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-9-5" class="outline-3">
<h3 id="sec-9-5">HTTPS Load-balancing with Cloud CDN</h3>
<div class="outline-text-3" id="text-9-5">
<ul class="org-ul">
<li>
<a href="https://cloud.google.com/compute/docs/load-balancing/http/using-http-lb-with-cloud-storage">https://cloud.google.com/compute/docs/load-balancing/http/using-http-lb-with-cloud-storage</a>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10">Networking</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-sec-10-1" class="outline-3">
<h3 id="sec-10-1">Create a network</h3>
<div class="outline-text-3" id="text-10-1">
<div class="highlight"><pre><span></span>gcloud compute networks create "network-name" --project "project-id" --description "Example network"
</pre></div>
</div>
</div>

<div id="outline-container-sec-10-2" class="outline-3">
<h3 id="sec-10-2">Create a firewall rule</h3>
<div class="outline-text-3" id="text-10-2">
<div class="highlight"><pre><span></span>gcloud compute firewall-rules create "rule-name-to-allow-ssh" --project "project-id" --allow tcp:2  --network "network-name" --description "Allow SSH access"
</pre></div>
</div>
</div>
</div>

<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11">Compute Engine</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-sec-11-1" class="outline-3">
<h3 id="sec-11-1">Copy files to/from a Compute Engine instance</h3>
<div class="outline-text-3" id="text-11-1">
<div class="highlight"><pre><span></span>gcloud compute copy-files [LOCAL_FILE_PATH] [INSTANCE_NAME]:~/
</pre></div>
</div>
</div>
<div id="outline-container-sec-11-2" class="outline-3">
<h3 id="sec-11-2">List Compute Engine Instances</h3>
<div class="outline-text-3" id="text-11-2">
<div class="highlight"><pre><span></span>gcloud compute instances list
</pre></div>
</div>
</div>
<div id="outline-container-sec-11-3" class="outline-3">
<h3 id="sec-11-3">Connect via SSH</h3>
<div class="outline-text-3" id="text-11-3">
<div class="highlight"><pre><span></span>gcloud compute ssh "instance-name"
</pre></div>
</div>
</div>
<div id="outline-container-sec-11-4" class="outline-3">
<h3 id="sec-11-4">Copy files using SCP</h3>
<div class="outline-text-3" id="text-11-4">
<div class="highlight"><pre><span></span>gcloud beta compute scp --ssh-key-file ~/.ssh/&lt;ssh key&gt; &lt;hostname&gt;:&lt;path&gt; --zone &lt;zone name&gt; &lt;path&gt;
</pre></div>
</div>
</div>
</div>
<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12">App Engine</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-sec-12-1" class="outline-3">
<h3 id="sec-12-1">Deploy Application</h3>
</div>
<div id="outline-container-sec-12-2" class="outline-3">
<h3 id="sec-12-2">Update Python App Engine application</h3>
<div class="outline-text-3" id="text-12-2">
<p>
Push local application as &lt;version&gt;
</p>
<div class="highlight"><pre><span></span>appcfg.py update -A &lt;project ID&gt; -V &lt;version&gt; &lt;src&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-12-3" class="outline-3">
<h3 id="sec-12-3">Run Python App Engine application locally</h3>
<div class="outline-text-3" id="text-12-3">
<div class="highlight"><pre><span></span>dev_appserver.py &lt;src&gt;
</pre></div>

<p>
with application debug log level:
</p>
<div class="highlight"><pre><span></span>dev_appserver.py --log_level debug &lt;src&gt;
</pre></div>

<p>
with application server debug logging:
</p>
<div class="highlight"><pre><span></span>dev_appserver.py --dev_appserver_log_level debug &lt;src&gt;
</pre></div>


<p>
with both:
</p>
<div class="highlight"><pre><span></span>dev_appserver.py --log_level debug --dev_appserver_log_level debug &lt;src&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-12-4" class="outline-3">
<h3 id="sec-12-4">List App Engine Instances</h3>
<div class="outline-text-3" id="text-12-4">
<div class="highlight"><pre><span></span>gcloud app instances list
</pre></div>
</div>
</div>
<div id="outline-container-sec-12-5" class="outline-3">
<h3 id="sec-12-5">Read App Engine Logs</h3>
<div class="outline-text-3" id="text-12-5">
<div class="highlight"><pre><span></span>gcloud app logs read
</pre></div>
</div>
</div>
<div id="outline-container-sec-12-6" class="outline-3">
<h3 id="sec-12-6">Stop App</h3>
<div class="outline-text-3" id="text-12-6">
<div class="highlight"><pre><span></span>gcloud compute instances stop &lt;instance-name&gt; &lt;instance-name&gt; ...
</pre></div>
</div>
</div>
</div>
<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13">Cloud DNS</h2>
<div class="outline-text-2" id="text-13">
</div>
<div id="outline-container-sec-13-1" class="outline-3">
<h3 id="sec-13-1">List Managed Zones</h3>
<div class="outline-text-3" id="text-13-1">
<div class="highlight"><pre><span></span>gcloud dns managed-zones list
</pre></div>

<p>
output:
</p>
<div class="highlight"><pre><span></span>NAME              DNS_NAME           DESCRIPTION
example-zone      example.com.
</pre></div>
</div>
</div>

<div id="outline-container-sec-13-2" class="outline-3">
<h3 id="sec-13-2">Describe Existing Zone</h3>
<div class="outline-text-3" id="text-13-2">
<div class="highlight"><pre><span></span>gcloud dns managed-zones describe &lt;zone-name&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-13-3" class="outline-3">
<h3 id="sec-13-3">Add DNS Record</h3>
<div class="outline-text-3" id="text-13-3">
<p>
Here is an example of creating a CNAME record named <span class="underline">my-cname.example.com</span> that points to <span class="underline">cname.value.example.org</span>
</p>
<div class="highlight"><pre><span></span>$ gcloud dns record-sets transaction start -z &lt;zone-name&gt;
Transaction started [transaction.yaml]
$ gcloud dns record-sets transaction add -z &lt;zone-name&gt; --ttl &lt;seconds&gt; --type CNAME --name my-cname.example.com cname.value.example.org.
Record addition appended to transaction at [transaction.yaml]
$ gcloud dns record-sets transaction describe -z &lt;zone-name&gt;
additions:
- kind: dns#resourceRecordSet
  name: example.com
  rrdatas:
  - ns-cloud-e1.googledomains.com. cloud-dns-hostmaster.google.com. 3 21600 3600 259200
    &lt;ttl seconds&gt;
  ttl: 21600
  type: SOA
- kind: dns#resourceRecordSet
  name: mycname.example.com
  rrdatas:
  - cname.value.example.org.
  ttl: &lt;ttl seconds&gt;
  type: CNAME
deletions:
- kind: dns#resourceRecordSet
  name: example.com
  rrdatas:
  - ns-cloud-e1.googledomains.com. cloud-dns-hostmaster.google.com. 2 21600 3600 259200
    &lt;ttl seconds&gt;
  ttl: 21600
  type: SOA

$ gcloud dns record-sets transaction execute -z &lt;zone-name&gt;
Executed transaction [transaction.yaml] for managed-zone [&lt;zone-name&gt;].
Created [https://www.googleapis.com/dns/v1/projects/&lt;project id&gt;/managedZones/&lt;zone-name&gt;/changes/1].
ID  START_TIME                STATUS
1   2016-06-16T13:10:50.051Z  pending
</pre></div>

<p>
Plain commands list:
</p>
<div class="highlight"><pre><span></span>gcloud dns record-sets transaction start -z &lt;zone-name&gt;
gcloud dns record-sets transaction add -z &lt;zone-name&gt; --name my-cname.example.com --ttl 300 --type CNAME cname.value.example.org.
gcloud dns record-sets transaction describe -z &lt;zone-name&gt;
gcloud dns record-sets transaction execute -z &lt;zone-name&gt;
</pre></div>
</div>
</div>
</div>
<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14">BigQuery</h2>
<div class="outline-text-2" id="text-14">
<p>
<code>bq help</code> includes a lot of great info, the official documentation is available at <a href="https://cloud.google.com/bigquery/bq-command-line-tool">https://cloud.google.com/bigquery/bq-command-line-tool</a>.
</p>
</div>
<div id="outline-container-sec-14-1" class="outline-3">
<h3 id="sec-14-1">Default Configuration</h3>
<div class="outline-text-3" id="text-14-1">
<div class="highlight"><pre><span></span>cat &gt; ~/.bigqueryrc &lt;&lt;EOF
&gt; project_id = &lt;project-id&gt;
&gt; dataset_id = &lt;dataset-id&gt;
&gt; EOF
</pre></div>
</div>
</div>
<div id="outline-container-sec-14-2" class="outline-3">
<h3 id="sec-14-2">Interactive Shell</h3>
<div class="outline-text-3" id="text-14-2">
<div class="highlight"><pre><span></span>bq shell
</pre></div>
</div>
</div>
<div id="outline-container-sec-14-3" class="outline-3">
<h3 id="sec-14-3">List common flags</h3>
<div class="outline-text-3" id="text-14-3">
<div class="highlight"><pre><span></span>bq --format=json ls -d
</pre></div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef">
<sup><a id="fn.1" name="fn.1" class="footnum" href="posts/google-cloud-command-line-examples/#fnr.1">1</a></sup><p class="footpara">
<a href="https://cloud.google.com/appengine/docs/python/tools/remoteapi?ncouture=1">https://cloud.google.com/appengine/docs/python/tools/remoteapi?ncouture=1</a>
</p>
</div>


</div>
</div>
        </div>
        </article><article class="h-entry post-text"><header><h1 class="p-name entry-title header"><a href="posts/configure-yubikey-neo-with-gpg-and-pass/" class="u-url">Configure Yubikey NEO with GPG and Pass</a></h1>
            <div class="metadata">
                <span class="byline author vcard">
                        <i class="mdi-action-face-unlock"></i>
                    Nicolas Couture
                </span>
                <span class="dateline"><a href="posts/configure-yubikey-neo-with-gpg-and-pass/" rel="bookmark">
                    <i class="mdi-device-access-time"></i><time class="published dt-published" datetime="2016-09-23T15:39:19+00:00" title="2016-09-23 15:39">2016-09-23 15:39</time></a></span>
                    <span class="commentline">            <a href="posts/configure-yubikey-neo-with-gpg-and-pass/#disqus_thread" data-disqus-identifier="cache/posts/configure-yubikey-neo-with-gpg-and-pass.html">Comments</a>

</span>
            </div>
            <hr></header><div class="e-content entry-content">
        <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li>
<a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-1">Environment configuration</a>
<ul>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-1-1">Software dependencies</a></li>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-1-2">Xorg environment</a></li>
</ul>
</li>
<li>
<a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-2">Create GPG keys</a>
<ul>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-2-1">Optionally add your picture</a></li>
</ul>
</li>
<li>
<a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-3">Configure your Yubikey</a>
<ul>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-3-1">Resetting defaults</a></li>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-3-2">Test</a></li>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-3-3">Configuration</a></li>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-3-4">Default PINs</a></li>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-3-5">Identification details</a></li>
</ul>
</li>
<li>
<a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-4">Upload keys to GPG card</a>
<ul>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-4-1">Backup keys</a></li>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-4-2">Upload your keys</a></li>
</ul>
</li>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-5">Send your public key to keyserver</a></li>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-6">Remove new keys from keyring</a></li>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-7">Configure `pass'</a></li>
<li><a href="posts/configure-yubikey-neo-with-gpg-and-pass/#sec-8">References</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Environment configuration</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Software dependencies</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Install requirements and configure gpg2 to be the default gpg:
</p>
<div class="highlight"><pre><span></span>sudo apt install libpam-yubico libyubikey-dev libyubikey0 python-yubico python-yubico-tools yhsm-yubikey-ksm yubikey-personalization yubikey-personalization-gui gnupg gnupg-agent gnupg2 gpgv openssh-client gpgsm pcscd libccid pass
alias gpg=gpg2
echo !! &gt;&gt; ~/.bashrc
</pre></div>

<p>
Uninstall gnome-keyring:
</p>
<div class="highlight"><pre><span></span>sudo apt remove libpam-gnome-keyring gnome-keyring
</pre></div>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Xorg environment</h3>
<div class="outline-text-3" id="text-1-2">
<p>
This is a matter of preferences, I do no use a display manager and if you do you may want to tweak this to be used in your <code>.xsession</code> file instead.
</p>

<p>
<b>Warning:</b> this configuration allows a single state for your gpg-agent and ssh-agent (which is gpg-agent) throughout your window manager. This means that all applications may be able to access resources available using some keys after you have provided sufficient information for gpg-agent to use these keys. If you're not sure of what you're doing <b>do not</b> use my Xorg configuration.
<code>.xinitrc</code>
</p>
<div class="highlight"><pre><span></span>pkill -u "$USER" -x gpg-agent
pkill -u "$USER" -x ssh-agent
pkill -u "$USER" -x xss-lock
pkill -u "$USER" -x xscreensaver

xscreensaver -nosplash &amp;&gt; /dev/null &amp;
xss-lock -- xscreensaver-command -lock  &amp;&gt; /dev/null &amp;
setxkbmap us                    # kbd layout preset
xmodmap ~/.Xmodmap              # kbd styling
xrdb -merge ~/.Xresources       # X styling
xhost +SI:localuser:$USER       # Disable access control
xsetroot -cursor_name left_ptr  # Fallback cursor
xset r rate 200 60              # Keyboard repeat rate

# start the `notion' window manager
exec dbus-launch --exit-with-session \
     eval "$(gpg-agent --daemon \
                       --scdaemon-program /usr/lib/gnupg2/scdaemon \
                       --max-cache-ttl 720 \
                       --enable-ssh-support \
                       --max-cache-ttl-ssh 720 \
                       --write-env-file "$HOME/.gnupg/gpg-agent.env" \
             notion)"
</pre></div>

<p>
<code>.bashrc</code>
</p>
<div class="highlight"><pre><span></span>export GNUPGHOME="$HOME"/.gnupg

if [ -f "${HOME}/.gnupg/gpg-agent.env" ]; then
    source "${HOME}/.gnupg/gpg-agent.env"
    export GPG_AGENT_INFO
    export SSH_AUTH_SOCK
fi

GPG_TTY=$(tty)
export GPG_TTY
</pre></div>
<p>
Make yourself the owner of the Yubikey
</p>
<div class="highlight"><pre><span></span>eval $(lsusb -v | grep Yubi -A1  | egrep 'idVend|idProd' | awk '{ print $1"="$2 }')
echo SUBSYSTEM=="usb", ATTR{idVendor}=="$idVendor", ATTR{idProduct}=="$idProduct", OWNER="$USER" &gt; /tmp/tmptmp
sudo cp -v /tmp/tmptmp /etc/udev/rules.d/99-yubikey.rules
sudo chown root.root /etc/udev/rules.d/99-yubikey.rules
rm /tmp/tmptmp
</pre></div>

<p>
At this point you should restart Xorg:
</p>
<div class="highlight"><pre><span></span>pkill -u $USER

[...]

startx
</pre></div>

<p>
Review gpg programs:
</p>
<div class="highlight"><pre><span></span>gpgconf --check-programs
</pre></div>
</div>

<div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1">Validate configuration</h4>
<div class="outline-text-4" id="text-1-2-1">
</div>
<div id="outline-container-sec-1-2-1-1" class="outline-5">
<h5 id="sec-1-2-1-1">Smart card access</h5>
<div class="outline-text-5" id="text-1-2-1-1">
<p>
Verify you have sufficient privs to access the yubikey through gpg2:
</p>
<div class="highlight"><pre><span></span>gpg --card-status
</pre></div>

<p>
If you get an error, see if you can access the key from the superuser and troubleshoot ACL.
</p>
<div class="highlight"><pre><span></span>sudo gpg2 --card-status
</pre></div>
</div>
</div>

<div id="outline-container-sec-1-2-1-2" class="outline-5">
<h5 id="sec-1-2-1-2">Gnupg agent wrapping</h5>
<div class="outline-text-5" id="text-1-2-1-2">
<p>
With this configuration your gpg-agent wraps your entire window manager.
</p>

<p>
This means that if you do add an ssh key to the agent from <code>/dev/pts/1</code>, you will be able to access
it from <code>/dev/pts/1</code> if this respects the way you've configured your agent.
</p>

<p>
To test this behavior:
</p>

<ol class="org-ol">
<li>Open a terminal
</li>
<li>Add an ssh key to the agent
</li>
</ol>
<div class="highlight"><pre><span></span>ssh-add -i ~/.ssh/somekey
&lt;feed password prompt&gt;
</pre></div>
<ol class="org-ol">
<li>Verify you can use the key
</li>
</ol>
<div class="highlight"><pre><span></span>ssh user@somehost-allowing-somekey-logins
</pre></div>
<ol class="org-ol">
<li>Open a second terminal
</li>
<li>Verify you can use the key without being prompted for password
</li>
</ol>
<div class="highlight"><pre><span></span>ssh user@somehost-allowing-somekey-logins
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Create GPG keys</h2>
<div class="outline-text-2" id="text-2">
<p>
Generate master key:
</p>
<div class="highlight"><pre><span></span>gpg --expert --gen-key

gpg (GnuPG) 2.0.26; Copyright (C) 2013 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
   (7) DSA (set your own capabilities)
   (8) RSA (set your own capabilities)
Your selection? 4


[...]
</pre></div>

<p>
Generate sub-keys for Encryption, Signing, and Authentication:
</p>
<div class="highlight"><pre><span></span>gpg --expert --edit-key

gpg&gt; addkey
Key is protected.

[...]

gpg&gt; save
</pre></div>
</div>
<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Optionally add your picture</h3>
<div class="outline-text-3" id="text-2-1">
<div class="highlight"><pre><span></span>gpg --edit-key &lt;key-id&gt;
addphoto

[...]

save
</pre></div>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Configure your Yubikey</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">Resetting defaults</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Optionally you may reset the status of your yubikey by doing this:
</p>
<div class="highlight"><pre><span></span>cat &gt; /tmp/reset_yubikey&lt;&lt;EOF
/hex
scd serialno
scd apdu 00 20 00 81 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 81 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 81 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 81 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 83 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 83 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 83 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 83 08 40 40 40 40 40 40 40 40
scd apdu 00 e6 00 00
scd apdu 00 44 00 00
/echo Card has been successfully reset.
EOF

gpg-connect-agent -r /tmp/reset_yubikey
</pre></div>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">Test</h3>
<div class="outline-text-3" id="text-3-2">
<p>
List devices
</p>
<div class="highlight"><pre><span></span>ykneomgr -l
</pre></div>
</div>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">Configuration</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Configure for HID/CCID with touch eject
</p>
<div class="highlight"><pre><span></span>ykneomgr -M 82
</pre></div>

<p>
Configure key for OTP/U2F/CCID composite device with touch eject.
</p>
<div class="highlight"><pre><span></span>ykpersonalize -m 86
</pre></div>
</div>
</div>
<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4">Default PINs</h3>
<div class="outline-text-3" id="text-3-4">
<p>
The default PIN is <code>123456</code> and the default admin PIN is <code>12345678</code>.
</p>

<p>
To change the default admin PIN perform the following:
</p>
<div class="highlight"><pre><span></span>gpg --card-edit
admin
passwd
3
12345678
&lt;confirm new admin PIN&gt;
&lt;confirm new admin PIN&gt;
</pre></div>

<p>
To change the default PIN
</p>
<div class="highlight"><pre><span></span>gpg --card-edit
admin
passwd
1
123456
&lt;confirm new PIN&gt;
&lt;confirm new PIN&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5">Identification details</h3>
<div class="outline-text-3" id="text-3-5">
<p>
Your key stores personal information, to customize it follow these steps:
</p>
<div class="highlight"><pre><span></span>gpg --card-edit
admin
name
sex
lang
url
list
quit
</pre></div>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Upload keys to GPG card</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">Backup keys</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Backup keychain, primary keys, subkeys, and generate a revocation certificate for them:
</p>
<div class="highlight"><pre><span></span>mkdir -p ~/gpg_backup/{primary_keys,sub_keys,laptop_keys}
cp -r ~/.gnupg ~/gpg_backup/dot-gnupg-backup
gpg --armor --export &lt;key-id&gt; &gt; ~/gpg_backup/primary_keys/public_key.gpg
gpg --armor --export-secret-key &lt;key-id&gt; &gt; ~/gpg_backup/primary_keys/secret_key.gpg
gpg -a --export-secret-subkeys &lt;key-id&gt; &gt; ~/gpg_backup/sub_keys/secret_subkeys.gpg
gpg --armor --gen-revoke &lt;key-id&gt; &gt; ~/gpg_backup/primary_keys/recovation_cert.gpg
</pre></div>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">Upload your keys</h3>
<div class="outline-text-3" id="text-4-2">
<div class="highlight"><pre><span></span>gpg --expert --edit-key &lt;key-id&gt;
gpg&gt; toggle
gpg&gt; key 1
gpg&gt; keytocard
Your selection? 1
gpg&gt; key 1
gpg&gt; key 2
gpg&gt; keytocard
gpg&gt; key 2
gpg&gt; key 3
gpg&gt; keytocard
gpg&gt; save
</pre></div>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">Send your public key to keyserver</h2>
<div class="outline-text-2" id="text-5">
<div class="highlight"><pre><span></span>gpg --send-key &lt;key-id&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">Remove new keys from keyring</h2>
<div class="outline-text-2" id="text-6">
<div class="highlight"><pre><span></span>gpg --delete-secret-keys &lt;key-id&gt;
gpg --delete-key &lt;key-id&gt;
</pre></div>

<p>
Import laptop keys:
</p>
<div class="highlight"><pre><span></span>gpg --import laptop_keys_public.gpg
gpg --import laptop_keys_secret.gpg
</pre></div>

<p>
Trust your encryption key:
</p>
<div class="highlight"><pre><span></span>gpg --edit-key &lt;key-id&gt;
gpg&gt; trust
5
</pre></div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">Configure `pass'</h2>
<div class="outline-text-2" id="text-7">
<div class="highlight"><pre><span></span>pass init &lt;key-id&gt;
</pre></div>
</div>
</div>
<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">References</h2>
<div class="outline-text-2" id="text-8">
<ul class="org-ul">
<li>
<a href="https://developers.yubico.com/PGP/Importing_keys.html">https://developers.yubico.com/PGP/Importing_keys.html</a>
</li>
<li>
<a href="https://www.yubico.com/wp-content/uploads/2014/11/NEO-Manager-Quick-Start-Guide.pdf">https://www.yubico.com/wp-content/uploads/2014/11/NEO-Manager-Quick-Start-Guide.pdf</a>
</li>
<li>
<a href="https://blog.josefsson.org/2014/06/23/offline-gnupg-master-key-and-subkeys-on-yubikey-neo-smartcard/">https://blog.josefsson.org/2014/06/23/offline-gnupg-master-key-and-subkeys-on-yubikey-neo-smartcard/</a>
</li>
</ul>
</div>
</div>
        </div>
        </article><article class="h-entry post-text"><header><h1 class="p-name entry-title header"><a href="posts/google-freenode-irc-channels/" class="u-url">Google IRC Channels on Freenode</a></h1>
            <div class="metadata">
                <span class="byline author vcard">
                        <i class="mdi-action-face-unlock"></i>
                    Nicolas Couture
                </span>
                <span class="dateline"><a href="posts/google-freenode-irc-channels/" rel="bookmark">
                    <i class="mdi-device-access-time"></i><time class="published dt-published" datetime="2016-09-20T23:09:09+00:00" title="2016-09-20 23:09">2016-09-20 23:09</time></a></span>
                    <span class="commentline">            <a href="posts/google-freenode-irc-channels/#disqus_thread" data-disqus-identifier="cache/posts/google-channels-on-freenode.html">Comments</a>

</span>
            </div>
            <hr></header><div class="e-content entry-content">
        <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="posts/google-freenode-irc-channels/#sec-1">#google</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-2">##googleinterns</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-3">#android</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-4">#android-dev</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-5">#chromium-extensions</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-6">#chromium-os-users</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-7">#chromium-support</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-8">#firebase</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-9">#googleglass</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-10">#googlemaps</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-11">#google-at-home</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-12">#google-containers</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-13">#kubernetes-ui</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-14">#googleajaxapis</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-15">#googleapis</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-16">#googleglass</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-17">#googleio</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-18">#googlemaps</a></li>
<li><a href="posts/google-freenode-irc-channels/#sec-19">#ubuntu-google</a></li>
</ul>
</div>
</div>
<p>
There are a few official Google channels on the Freenode network but it can be a bit hard to find which ones. Hopefully this list will help people looking for help with Google technologies on freenode.
</p>

<p>
<span class="underline">Note:</span> the recognized official support channels for Google products do not include IRC channels, for example refer to <a href="https://cloud.google.com/support/">https://cloud.google.com/support/</a> for a list of Google Cloud related resources.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">#google</h2>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">##googleinterns</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>
<a href="https://productforums.google.com/#!forum/en">https://productforums.google.com/#!forum/en</a>
</li>
<li>
<a href="https://www.google.com/contact">https://www.google.com/contact</a>
</li>
<li>
<a href="https://www.google.com/appsstatus">https://www.google.com/appsstatus</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">#android</h2>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">#android-dev</h2>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">#chromium-extensions</h2>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">#chromium-os-users</h2>
</div>
<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">#chromium-support</h2>
</div>
<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">#firebase</h2>
<div class="outline-text-2" id="text-8">
<ul class="org-ul">
<li>
<a href="http://firebase-community.appspot.com/">http://firebase-community.appspot.com/</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">#googleglass</h2>
</div>
<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10">#googlemaps</h2>
</div>
<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11">#google-at-home</h2>
</div>
<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12">#google-containers</h2>
<div class="outline-text-2" id="text-12">
<p>
Kubernetes, containers, cAdvisor
</p>
<ul class="org-ul">
<li>
<a href="http://stackoverflow.com/questions/tagged/kubernetes">http://stackoverflow.com/questions/tagged/kubernetes</a>
</li>
<li>
<a href="https://github.com/kubernetes/kubernetes/wiki/Debugging-FAQ">https://github.com/kubernetes/kubernetes/wiki/Debugging-FAQ</a>
</li>
<li>
<a href="https://groups.google.com/forum/#!forum/google-containers">https://groups.google.com/forum/#!forum/google-containers</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13">#kubernetes-ui</h2>
<div class="outline-text-2" id="text-13">
<p>
<i>previously #google-containers-ui</i>
</p>
</div>
</div>
<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14">#googleajaxapis</h2>
</div>
<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15">#googleapis</h2>
</div>
<div id="outline-container-sec-16" class="outline-2">
<h2 id="sec-16">#googleglass</h2>
<div class="outline-text-2" id="text-16">
<ul class="org-ul">
<li>
<a href="https://developers.google.com/glass">https://developers.google.com/glass</a>
</li>
<li>
<a href="https://github.com/googleglass">https://github.com/googleglass</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-17" class="outline-2">
<h2 id="sec-17">#googleio</h2>
</div>
<div id="outline-container-sec-18" class="outline-2">
<h2 id="sec-18">#googlemaps</h2>
</div>
<div id="outline-container-sec-19" class="outline-2">
<h2 id="sec-19">#ubuntu-google</h2>
</div>
        </div>
        </article><article class="h-entry post-text"><header><h1 class="p-name entry-title header"><a href="posts/plantuml-org-mode-tests/" class="u-url">PlantUML Org-Mode Tests</a></h1>
            <div class="metadata">
                <span class="byline author vcard">
                        <i class="mdi-action-face-unlock"></i>
                    Nicolas Couture
                </span>
                <span class="dateline"><a href="posts/plantuml-org-mode-tests/" rel="bookmark">
                    <i class="mdi-device-access-time"></i><time class="published dt-published" datetime="2016-09-17T15:43:08+00:00" title="2016-09-17 15:43">2016-09-17 15:43</time></a></span>
                    <span class="commentline">            <a href="posts/plantuml-org-mode-tests/#disqus_thread" data-disqus-identifier="cache/posts/plantuml-org-mode-tests.html">Comments</a>

</span>
            </div>
            <hr></header><div class="e-content entry-content">
        <p>
<a href="http://plantuml.com/PlantUML_Language_Reference_Guide.pdf">http://plantuml.com/PlantUML_Language_Reference_Guide.pdf</a>
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Sequence diagram</h2>
<div class="outline-text-2" id="text-1">
<div class="highlight"><pre><span></span>@startuml
'
' everything that starts with a single quote is a comment
'
Alice -&gt; Bob: Authentication Request
Bob --&gt; Alice: Authentication Response

Alice -&gt; Bob: Another authentication Request
Alice &lt;-- Bob: Another authentication Response
</pre></div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Participants</h2>
<div class="outline-text-2" id="text-2">
<div class="highlight"><pre><span></span>@startuml
actor Foo1
boundary Foo2
control Foo3
entity Foo4
database Foo5
Foo1 -&gt; Foo2 : To boundary
Foo1 -&gt; Foo3 : To control
Foo1 -&gt; Foo4 : To entity
Foo1 -&gt; Foo5 : To database
@enduml
</pre></div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Colors</h2>
<div class="outline-text-2" id="text-3">
<div class="highlight"><pre><span></span>@startuml
actor Bob #red
' The only difference between actor
'and participant is the drawing
participant Alice
participant "I have a really\nlong name" as L #99FF99
/' You can also declare:
participant L as "I have a really\nlong name" #99FF99
'/
Alice-&gt;Bob: Authentication Request
Bob-&gt;Alice: Authentication Response
Bob-&gt;L: Log transaction
@enduml
</pre></div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Special characters in participant names</h2>
<div class="outline-text-2" id="text-4">
<div class="highlight"><pre><span></span>@startuml
Alice -&gt; "Bob()" : Hello
"Bob()" -&gt; "This is very\nlong" as Long
' You can also declare:
' "Bob()" -&gt; Long as "This is very\nlong"
Long --&gt; "Bob()" : ok
@enduml
</pre></div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">Self-Addressed Message</h2>
<div class="outline-text-2" id="text-5">
<div class="highlight"><pre><span></span>@startuml
Alice-&gt;Alice: This is a signal to self.\nIt also demonstrates\nmultiline \ntext
@enduml
</pre></div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">Arrow styles</h2>
<div class="outline-text-2" id="text-6">
<div class="highlight"><pre><span></span>@startuml
Bob -&gt;x Alice
Bob -&gt; Alice
Bob -&gt;&gt; Alice
Bob -\ Alice
Bob \\- Alice
Bob //-- Alice
Bob -&gt;o Alice
Bob o\\-- Alice
Bob &lt;-&gt; Alice
Bob &lt;-&gt;o Alice
@enduml
</pre></div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">Arrow colors</h2>
<div class="outline-text-2" id="text-7">
<div class="highlight"><pre><span></span>@startuml
Bob -[#red]&gt; Alice : hello
Alice -[#0000FF]-&gt;Bob : ok
@enduml
</pre></div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">Message sequence numbering</h2>
<div class="outline-text-2" id="text-8">
<div class="highlight"><pre><span></span>@startuml
autonumber
Bob -&gt; Alice : Authentication Request
Bob &lt;- Alice : Authentication Response
@enduml
</pre></div>
</div>

<div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1">autonumber arguments</h3>
<div class="outline-text-3" id="text-8-1">
<div class="highlight"><pre><span></span>@startuml
autonumber
Bob -&gt; Alice : Authentication Request
Bob &lt;- Alice : Authentication Response
autonumber 15
Bob -&gt; Alice : Another authentication Request
Bob &lt;- Alice : Another authentication Response
autonumber 40 10
Bob -&gt; Alice : Yet another authentication Request
Bob &lt;- Alice : Yet another authentication Response
@enduml
</pre></div>
</div>
</div>

<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2">autonumber HTML properties</h3>
<div class="outline-text-3" id="text-8-2">
<div class="highlight"><pre><span></span>@startuml
autonumber "&lt;b&gt;[000]"
Bob -&gt; Alice : Authentication Request
Bob &lt;- Alice : Authentication Response
autonumber 15 "&lt;b&gt;(&lt;u&gt;##&lt;/u&gt;)"
Bob -&gt; Alice : Another authentication Request
Bob &lt;- Alice : Another authentication Response
autonumber 40 10 "&lt;font color=red&gt;&lt;b&gt;Message 0 "
Bob -&gt; Alice : Yet another authentication Request
Bob &lt;- Alice : Yet another authentication Response
@enduml
</pre></div>
</div>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">Title</h2>
<div class="outline-text-2" id="text-9">
<div class="highlight"><pre><span></span>@startuml
title Simple communication example
Alice -&gt; Bob: Authentication Request
Bob --&gt; Alice: Authentication Response
@enduml
</pre></div>
</div>
</div>

<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10">Caption</h2>
<div class="outline-text-2" id="text-10">
<div class="highlight"><pre><span></span>@startuml
caption fig. 1
Alice &lt;-&gt; Bob: Swap position
Bob --&gt; Alice: Who is who?
@enduml
</pre></div>
</div>
</div>

<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11">Legend</h2>
<div class="outline-text-2" id="text-11">
<div class="highlight"><pre><span></span>@startuml
Alice -&gt; Bob : Hello
legend right
Short
legend
endlegend
@enduml
</pre></div>
</div>
</div>

<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12">Splitting diagram</h2>
<div class="outline-text-2" id="text-12">
<div class="highlight"><pre><span></span>@startuml
Alice -&gt; Bob : message 1
Alice -&gt; Bob : message 2
newpage
Alice -&gt; Bob : message 3
Alice -&gt; Bob : message 4
newpage A title for the\nlast page
Alice -&gt; Bob : message 5
Alice -&gt; Bob : message 6
@enduml
</pre></div>
</div>
</div>

<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13">Grouping sequences</h2>
<div class="outline-text-2" id="text-13">
<div class="highlight"><pre><span></span>@startuml
Alice -&gt; Bob: Authentication Request
alt successful case
Bob -&gt; Alice: Authentication Accepted
else some kind of failure
Bob -&gt; Alice: Authentication Failure
group My own label
Alice -&gt; Log : Log attack start
loop 1000 times
Alice -&gt; Bob: DNS Attack
end
Alice -&gt; Log : Log attack end
end
else Another type of failure
Bob -&gt; Alice: Please repeat
end
@enduml
</pre></div>
</div>
</div>

<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14">Notes</h2>
<div class="outline-text-2" id="text-14">
<div class="highlight"><pre><span></span>@startuml
Alice-&gt;Bob : hello
note left: this is a first note
Bob-&gt;Alice : ok
note right: this is another note
Bob-&gt;Bob : I am thinking
note left
a note
can also be defined
on several lines
end note
@enduml
</pre></div>
</div>
</div>
        </div>
        </article><article class="h-entry post-text"><header><h1 class="p-name entry-title header"><a href="posts/google-io-2016-web-application-installation-steps/" class="u-url">Google I/O 2016 Web Application Installation Steps</a></h1>
            <div class="metadata">
                <span class="byline author vcard">
                        <i class="mdi-action-face-unlock"></i>
                    Nicolas Couture
                </span>
                <span class="dateline"><a href="posts/google-io-2016-web-application-installation-steps/" rel="bookmark">
                    <i class="mdi-device-access-time"></i><time class="published dt-published" datetime="2016-09-17T15:09:12+00:00" title="2016-09-17 15:09">2016-09-17 15:09</time></a></span>
                    <span class="commentline">            <a href="posts/google-io-2016-web-application-installation-steps/#disqus_thread" data-disqus-identifier="cache/posts/google-io-2016-web-application-installation-steps.html">Comments</a>

</span>
            </div>
            <hr></header><div class="e-content entry-content">
        <p>
My personal notes on installing the I/O 2016 Web Application (in March 2016).
</p>

<p>
goapp deploy -application &lt;app-id&gt; -version &lt;v&gt; dist/backend/.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Configure Firebase</h2>
<div class="outline-text-2" id="text-1">
<p>
You must use the legacy Firebase dashboard. Do not use the gcloud console. –2016-05-30
</p>

<ol class="org-ol">
<li>Create firebase.com legacy application (&lt;app&gt;.firebaseio.com)
</li>
<li>Get application secret from <a href="https://">https://</a>&lt;app ID&gt;.firebaseio.com/?page=Admin
</li>
<li>Insert secret in backend/server.config.&lt;env&gt;
</li>
</ol>
<div class="highlight"><pre><span></span>"firebase": {
  "secret": "&lt;secret key&gt;",
  "shards": [
    "https://&lt;app ID&gt;.firebaseio.com/"
  ]
},
</pre></div>
<ol class="org-ol">
<li>Enable Google Plus API
<ul class="org-ul">
<li>
<a href="https://console.cloud.google.com/apis/">https://console.cloud.google.com/apis/</a>
</li>
</ul>
</li>
<li>Configure credentials
</li>
</ol>
</div>
<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">CANCELLED Google Cloud Firebase Console does <b>not</b> work   <span class="tag"><span class="CANCELLED">CANCELLED</span></span>
</h3>
<div class="outline-text-3" id="text-1-1">
<p>
<a href="https://github.com/GoogleChrome/ioweb2016/pull/514#issuecomment-205866122">https://github.com/GoogleChrome/ioweb2016/pull/514#issuecomment-205866122</a>
</p>

<ul class="org-ul">
<li>
<a href="https://console.firebase.google.com/project/">https://console.firebase.google.com/project/</a>&lt;project name&gt;/settings/database
</li>
<li>Database
</li>
<li>Database secrets
<ul class="org-ul">
<li>Show existing legacy token
</li>
<li>Create custom database authentication tokens using a legacy Firebase token generator. At least one secret must exist at all times.
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Deploy</h2>
<div class="outline-text-2" id="text-2">
<p>
These are my personal notes. Tested on Debian stretch.
</p>

<p>
See <a href="https://github.com/GoogleChrome/ioweb2016">https://github.com/GoogleChrome/ioweb2016</a> for more detailed instructions.
</p>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Download Google App Engine SDK for Go</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>
<a href="https://cloud.google.com/appengine/downloads#Google_App_Engine_SDK_for_Go">https://cloud.google.com/appengine/downloads#Google_App_Engine_SDK_for_Go</a>
</li>
</ul>
<div class="highlight"><pre><span></span>unzip go_appengine_sdk_linux_&lt;arch&gt;_&lt;version&gt;.zip
</pre></div>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">Configure</h3>
<div class="outline-text-3" id="text-2-2">
<div class="highlight"><pre><span></span>mv go_appengine ~/.go_appengine
export PATH=~/.go_appengine:"$PATH"
export GOPATH=~/.go_appengine/gopath
export GOROOT=~/.go_appengine/goroot
</pre></div>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Install node dependencies</h3>
<div class="outline-text-3" id="text-2-3">
<div class="highlight"><pre><span></span>npm install
</pre></div>
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">Build</h3>
<div class="outline-text-3" id="text-2-4">
<div class="highlight"><pre><span></span>gulp serve:dist --env prod
</pre></div>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5">Deploy</h3>
<div class="outline-text-3" id="text-2-5">
<div class="highlight"><pre><span></span>gulp deploy:firebaserules --env prod
goapp deploy -application &lt;application ID&gt; -version &lt;version number&gt; dist/backend/.
</pre></div>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Temporary API</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">Enable in dist</h3>
<div class="outline-text-3" id="text-3-1">
<p>
After building the app:
</p>
<div class="highlight"><pre><span></span>cp -r app/temporary_api/ dist/app/
</pre></div>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Live Stream</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>
<a href="http://localhost:3000/io2016/api/v1/livestream">http://localhost:3000/io2016/api/v1/livestream</a>
</li>
</ul>
</div>
</div>
        </div>
        </article>
</div>

               <script>var disqus_shortname="nicolas-couture-github-pages";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
            </div>
        </div>
        <button class="btn btn-fab btn-raised btn-material-green btn-footer" data-toggle="modal" data-target="#footer-dialog">
            <i class="mdi-communication-message"></i>
        </button>
        <div id="footer-dialog" class="modal fade" tabindex="-1">
          <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">ncouture
.github.io credits</h4>
 
              </div>
              <div class="modal-body">
                    Contents © 2016         <a href="mailto:nicolas.couture@gmail.com">Nicolas Couture</a>
                    
              </div>
              <div class="modal-footer">
                <button class="btn btn-primary" data-dismiss="modal">Ok</button>
              </div>
            </div>
          </div>
        </div>
        <div class="source-button">
        </div>
</div>

            <script src="assets/js/all-nocdn.js"></script><script>

            $(document).ready(function() {
                // This command is used to initialize some elements and make them work properly
                $.material.init();
            });

            $(window).on("resize", function() {
                $("html, body").height($(window).height());
                $(".main, .menu").height($(window).height() - $(".header-panel").outerHeight() - 76 ); // footer margin: $("footer.footer").outerHeight()
                $(".posts-material").height($(window).height());
            }).trigger("resize");
        </script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-84015735-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
